<!doctype html><html lang="en"><head><meta charset="utf-8">  <title>Optimal compression | webhint documentation</title>  <meta property="og:url" content="https://webhint.io"><meta property="og:type" content="website"><meta property="og:image" content="https://webhint.io/static/images/apple-touch-icon-c01d89d4f3.png"><meta property="og:description" content="Require resources to be served compressed"><meta property="og:title" content="Optimal compression"><meta name="description" content="Require resources to be served compressed"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#4046dd"><link rel="manifest" href="/static/site-9ddc01b15a.webmanifest"><link rel="apple-touch-icon" href="/static/images/apple-touch-icon-c01d89d4f3.png"><link type="application/opensearchdescription+xml" rel="search" href="/static/opensearch-6d9e5a0d07.xml" title="webhint"> <link rel="preload" href="/static/fonts/montserrat-400-501ce09c42.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/static/fonts/montserrat-300-0a7c6df06e.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/static/fonts/source-sans-pro-76d8cbb049.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="/static/fonts/montserrat-500-f0f2716c5f.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="/static/styles/common-f214f33c0e.css" integrity="sha384-cDhs8IivMHLpN1JvOWoXQwAPO8Z7/zXdSUlaHWihlFDUAGaS77VY3VJDheGLvCQp" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" integrity="sha384-m2ikRCzP5EF96BXBKTjWxBJqZRlS6qNhm7+rE2Rvl8fIkEANrThfw+EVyeePWhM4" crossorigin="anonymous"> <link rel="stylesheet" href="/static/styles/docs-d7f231991c.css" integrity="sha384-/Sc4ciof042QnsY1Ddjl4AD1/AwIBfml96vL/PMusDqWzC7mWtmofPleP4kVTE/w" crossorigin="anonymous">  <link rel="icon" href="/static/images/scan/favicon-32x32-fede2c8c9f.png">  </head><body> <div id="disclaimer" class="disclaimer">This site uses cookies for analytics. By continuing to browse this site, you agree to this use. <button type="button" class="close" aria-label="close">X</button></div> <header class="header"><div class="header-social"><div class="header-social__container container"><span class="openjsf-header">An <a target="_blank" rel="noopener" href="https://openjsf.org" aria-label="Visit the OpenJS Foundation home page">OpenJS Foundation</a> Project</span><ul class="header-social__list"><li class="github-icon"><a target="_blank" rel="noopener" href="https://github.com/webhintio" aria-label="Follow webhint on GitHub"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"><path class="github-icon-svg-header" d="M12.5.4C5.7.4.2 5.9.2 12.7c0 5.4 3.5 10 8.4 11.7.6.1.8-.3.8-.6v-2.1C6 22.4 5.3 20 5.3 20c-.6-1.4-1.4-1.8-1.4-1.8-1.1-.7.1-.7.1-.7 1.2.1 1.9 1.3 1.9 1.3 1.1 1.9 2.9 1.3 3.6 1 .1-.8.4-1.3.8-1.6-2.7-.3-5.6-1.4-5.6-6.1 0-1.3.5-2.4 1.3-3.3-.2-.4-.6-1.6 0-3.3 0 0 1-.3 3.4 1.3 1-.3 2-.4 3.1-.4 1 0 2.1.1 3.1.4C17.9 5.2 19 5.5 19 5.5c.7 1.7.2 2.9.1 3.3.8.9 1.3 2 1.3 3.3 0 4.7-2.9 5.8-5.6 6.1.4.4.8 1.1.8 2.3v3.4c0 .3.2.7.8.6 4.9-1.6 8.4-6.2 8.4-11.7C24.8 5.9 19.3.4 12.5.4"/></svg></a></li><li class="twitter-icon"><a target="_blank" rel="noopener" href="https://twitter.com/webhintio" aria-label="Follow webhint on Twitter"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 24"><path class="twitter-icon-svg-header" d="M25 4.4c-.9.4-1.9.7-2.9.8 1-.6 1.8-1.6 2.2-2.8-1 .6-2.1 1-3.2 1.2-.9-1-2.2-1.6-3.7-1.6-2.8 0-5 2.3-5 5 0 .4 0 .8.1 1.2C8.3 8 4.6 6 2.1 2.9c-.4.8-.7 1.6-.7 2.6 0 1.8.9 3.3 2.2 4.2-.8-.1-1.5-.3-2.2-.7v.1c0 2.4 1.7 4.5 4.1 5-.4.1-.9.2-1.3.2-.3 0-.6 0-.9-.1.6 2 2.5 3.5 4.7 3.5-1.9 1.3-4 2.1-6.4 2.1-.4 0-.8 0-1.2-.1C2.6 21.2 5.3 22 8.1 22c9.3 0 14.4-7.7 14.4-14.4v-.7c1-.6 1.8-1.5 2.5-2.5"/></svg></a></li><li class="medium-icon"><a target="_blank" rel="noopener" href="https://medium.com/webhint" aria-label="Follow webhint on Medium"><svg xmlns="http://www.w3.org/2000/svg" viewBox="4 2 40 40"><path class="medium-icon-svg-header" d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.7-.32 1.03l-2.45 3v.38h6.9v-.4l-2.4-2.98c-.3-.34-.35-.5-.35-1.03v-8.95l6.13 13.36h.7L27 18.42v10.64c0 .3 0 .35-.2.53L25 31.4v.37h9.2v-.4l-1.82-1.8c-.2-.17-.22-.23-.22-.52v-13.1c0-.3.03-.36.2-.54l1.83-1.8v-.32h-6.5L23.1 24.8l-5.2-11.55h-6.8v.4l2.14 2.63c.24.3.3.37.3.77V27.4z"/></svg></a></li></ul></div></div><div class="nav-bar container"><nav class="nav"><a href="/" class="clear logo--container"><img src="/static/images/webhint-logo-a56febcd8b.svg" alt="webhint" class="header__logo navbar__navitem"></a><ul class="nav__navbar">  <li class="navbar__navitem"><a role="button" href="/docs/user-guide/" id="install" aria-haspopup="true" aria-expanded="false"  class="navitem__button expandable">Get webhint</a>  <ul role="group" id="submenu-install" class="navbar__submenu" hidden>  <li><a href="/docs/user-guide/extensions/extension-browser/">In browser DevTools</a></li>  <li><a href="/docs/user-guide/extensions/vscode-webhint/">In VS Code</a></li>  <li><a href="/docs/user-guide/">Standalone CLI</a></li>  </ul>  </li>  <li class="navbar__navitem"><a role="button" href="" id="docs" aria-haspopup="true" aria-expanded="false"  aria-controls="submenu-docs"  class="navitem__button expandable">Documentation</a>  <ul role="group" id="submenu-docs" class="navbar__submenu" hidden>  <li><a href="/docs/contributor-guide/">Contributor Guide</a></li>  <li><a href="/docs/user-guide/hints/">Hints</a></li>  <li><a href="/docs/user-guide/">User Guide</a></li>  </ul>  </li>  <li class="navbar__navitem"><a role="button" href="/about/" id="about" aria-haspopup="true" aria-expanded="false"  aria-controls="submenu-about"  class="navitem__button expandable">About</a>  <ul role="group" id="submenu-about" class="navbar__submenu" hidden>  <li><a href="/about/project_charter/">Project Charter</a></li>  <li><a href="/about/faq/">FAQ</a></li>  <li><a href="/about/changelog/">Changelog</a></li>  <li><a href="/about/governance/">Governance</a></li>  <li><a target="_blank" rel="noopener" href="https://js.foundation/community/code-of-conduct">Code of Conduct</a></li>  </ul>  </li>  </ul><div class="nav-bar--container"><div class="nav-bar__input"><form role="search"><label for="search-input" class="visually-hidden">Search the documentation</label> <input type="search" id="search-input" placeholder="Search Documentation" name="q" aria-label="Search"> <button type="submit" aria-label="search" class="button-search"></button></form></div><button type="button" class="mobile-close-button" aria-label="Close Search Overlay">Close</button></div><div class="nav-bar--mobile-buttons"><button type="button" class="header__toggle mobile-nav-button" aria-label="Menu"></button> <button type="button" class="header__toggle mobile-search-button" aria-label="Search"></button></div></nav></div></header> <main class="container">    <article class="content" aria-labelledby="page-heading"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/">Home</a></li><li><a href="../../../">Documentation</a></li>  <li><a href="../../" class="guide-category"> User guide </a></li>  <li aria-current="location">Optimal compression</li></ul></nav><header class="page-intro"><h1 id="page-heading">Optimal compression</h1><div class="documentation-actions"><ul><li><a target="_blank" href="https://github.com/webhintio/hint/edit/main/packages/hint-http-compression/README.md">Edit</a></li></ul></div></header><div class="section" id="main"><div class="layout layout--sidebar"><div class="module module--secondary mobile-view"><ul class="toc-mobile-view"><li><p role="button" id="mobile-toc" aria-controls="mobile-toc-submenu" aria-expanded="false" aria-haspopup="true" class="toc-mobile-view__button expandable"> User guide </p><ul role="group" class="toc-mobile-view__dropdown" id="mobile-toc-submenu" hidden>  <li class="dropdown__subitem"><a href="../../" class="subitem--single">Getting Started</a></li>    <li class="dropdown__subitem"><p>Api</p><ul>   <li class="subitem"><a href="https://webhint.io/docs/user-guide/api/using-api/">Using the API</a></li>  </ul></li>  <li class="dropdown__subitem"><p>Concepts</p><ul>   <li class="subitem"><a href="https://webhint.io/docs/user-guide/concepts/configurations/">Configurations</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/concepts/connectors/">Connectors</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/concepts/formatters/">Formatters</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/concepts/hints/">Hints</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/concepts/parsers/">Parsers</a></li>  </ul></li>  <li class="dropdown__subitem"><p>Configurations</p><ul>   <li class="subitem"><a href="https://webhint.io/docs/user-guide/configurations/configuration-development/">webhint development configuration</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/configurations/configuration-web-recommended/">webhint recommended web configuration</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/configurations/configuration-accessibility/">webhint&#39;s accessibility configuration</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/configurations/configuration-progressive-web-apps/">webhint&#39;s recommended progressive web apps configuration</a></li>  </ul></li>  <li class="dropdown__subitem"><p>Configuring webhint</p><ul>   <li class="subitem"><a href="https://webhint.io/docs/user-guide/configuring-webhint/summary/">Configure webhint in your project</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/configuring-webhint/browser-context/">Browser configuration</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/configuring-webhint/rules-timeout/">Hints timeout</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/configuring-webhint/ignoring-domains/">Ignoring domains</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/configuring-webhint/using-relative-resources/">Using relative resources</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/configuring-webhint/website-authentication/">Website authentication</a></li>  </ul></li>  <li class="dropdown__subitem"><p>Connectors</p><ul>   <li class="subitem"><a href="https://webhint.io/docs/user-guide/connectors/connector-jsdom/">jsdom</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/connectors/connector-local/">Local</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/connectors/connector-puppeteer/">Puppeteer</a></li>  </ul></li>  <li class="dropdown__subitem"><p>Development flow integration</p><ul>   <li class="subitem"><a href="https://webhint.io/docs/user-guide/development-flow-integration/summary/">Development flow integration</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/development-flow-integration/local-server/">Test a local server</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/development-flow-integration/travis-and-azure/">Travis CI and Azure Web Apps</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/development-flow-integration/circleci/">Using CircleCI and webhint</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/development-flow-integration/travisci/">Using Travis CI and webhint</a></li>  </ul></li>  <li class="dropdown__subitem"><p>Extensions</p><ul>   <li class="subitem"><a href="https://webhint.io/docs/user-guide/extensions/extension-browser/">Webhint browser extension</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/extensions/vscode-webhint/">Webhint Visual Studio Code extension</a></li>  </ul></li>  <li class="dropdown__subitem"><p>Formatters</p><ul>   <li class="subitem"><a href="https://webhint.io/docs/user-guide/formatters/formatter-codeframe/">Codeframe</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/formatters/formatter-excel/">Excel</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/formatters/formatter-html/">HTML</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/formatters/formatter-json/">JSON</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/formatters/formatter-stylish/">Stylish</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/formatters/formatter-summary/">Summary</a></li>  </ul></li>  <li class="dropdown__subitem"><p>Hints</p><ul>   <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-amp-validator/">AMP HTML validator</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-stylesheet-limits/">Avoid CSS limits</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-no-http-redirects/">Avoid HTTP redirects</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-axe/">axe accessibility check</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-babel-config/">Babel configuration hint set</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-compat-api/">Compatibility of CSS, HTML and JavaScript features</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-content-type/">Correct `Content-Type` header</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-manifest-file-extension/">Correct manifest extension</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-meta-viewport/">Correct viewport</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-no-disallowed-headers/">Disallowed HTTP headers</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-disown-opener/">External links disown opener</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-manifest-exists/">Has web app manifest</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-highest-available-document-mode/">Highest document mode</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-http-cache/">HTTP cache</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-leading-dot-classlist/">Leading &#39;.&#39; in `classList.add` or `classList.remove`</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-manifest-app-name/">Manifest has name</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-minified-js/">Minify JavaScript</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-doctype/">Modern DOCTYPE</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-create-element-svg/">No `createElement` with SVG</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-no-p3p/">No `P3P` headers</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-no-broken-links/">No broken links</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-no-bom/">No byte-order mark</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-no-inline-styles/">No Inline CSS Styles</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-no-protocol-relative-urls/">No protocol-relative URLs</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-no-friendly-error-pages/">No small error pages</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-no-vulnerable-javascript-libraries/">No vulnerable libraries</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-html-checker/">Nu HTML test</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-http-compression/">Optimal compression</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-image-optimization-cloudinary/">Optimize images</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-performance-budget/">Performance budget</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-css-prefix-order/">Prefixed CSS first</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-scoped-svg-styles/">scoped-svg-styles</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-button-type/">Specify button type</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-ssllabs/">SSL server test</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-typescript-config/">TypeScript configuration hints set</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-no-html-only-headers/">Unneeded HTTP headers</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-strict-transport-security/">Use `Strict-Transport-Security` header</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-x-content-type-options/">Use `X-Content-Type-Options` header</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-apple-touch-icons/">Use Apple touch icon</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-meta-charset-utf-8/">Use charset `utf-8`</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-https-only/">Use HTTPS</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-sri/">Use subresource integrity</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-validate-set-cookie-header/">Valid `Set-Cookie` header</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-meta-theme-color/">Valid `theme-color`</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-manifest-is-valid/">Valid manifest</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/hints/hint-webpack-config/">webpack configuration hints set</a></li>  </ul></li>  <li class="dropdown__subitem"><p>Parsers</p><ul>   <li class="subitem"><a href="https://webhint.io/docs/user-guide/parsers/parser-babel-config/">Babel config</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/parsers/parser-css/">CSS</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/parsers/parser-html/">HTML</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/parsers/parser-javascript/">JavaScript</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/parsers/parser-jsx/">JSX</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/parsers/parser-less/">LESS</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/parsers/parser-manifest/">Manifest</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/parsers/parser-package-json/">package.json config</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/parsers/parser-sass/">SASS</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/parsers/parser-typescript/">TypeScript</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/parsers/parser-typescript-config/">TypeScript config</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/parsers/parser-webpack-config/">webpack config</a></li>  </ul></li>  <li class="dropdown__subitem"><p>Server configurations</p><ul>   <li class="subitem"><a href="https://webhint.io/docs/user-guide/server-configurations/summary/">Examples of server configurations</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/server-configurations/iis/">Basic `web.config` for IIS</a></li>  <li class="subitem"><a href="https://webhint.io/docs/user-guide/server-configurations/apache/">Basic server configuration for Apache</a></li>  </ul></li>  <li class="dropdown__subitem"><p>Telemetry</p><ul>   <li class="subitem"><a href="https://webhint.io/docs/user-guide/telemetry/summary/">Telemetry</a></li>  </ul></li>  <li class="dropdown__subitem"><p>Troubleshoot</p><ul>   <li class="subitem"><a href="https://webhint.io/docs/user-guide/troubleshoot/summary/">Troubleshoot webhint installation and runtime issues</a></li>  </ul></li>  </ul></li></ul></div><div class="module module--secondary table-of-contents treeview main-view" role="navigation"><ul role="tree" aria-labelledby="page-heading" tabindex="0">  <li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Api</span><span class="icon"></span></div><ul role="group">  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/api/using-api/" tabindex="-1"> Using the API </a></div></li>  </ul></li>  <li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Concepts</span><span class="icon"></span></div><ul role="group">  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/concepts/configurations/" tabindex="-1"> Configurations </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/concepts/connectors/" tabindex="-1"> Connectors </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/concepts/formatters/" tabindex="-1"> Formatters </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/concepts/hints/" tabindex="-1"> Hints </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/concepts/parsers/" tabindex="-1"> Parsers </a></div></li>  </ul></li>  <li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Configurations</span><span class="icon"></span></div><ul role="group">  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/configurations/configuration-development/" tabindex="-1"> webhint development configuration </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/configurations/configuration-web-recommended/" tabindex="-1"> webhint recommended web configuration </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/configurations/configuration-accessibility/" tabindex="-1"> webhint&#39;s accessibility configuration </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/configurations/configuration-progressive-web-apps/" tabindex="-1"> webhint&#39;s recommended progressive web apps configuration </a></div></li>  </ul></li>  <li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Configuring webhint</span><span class="icon"></span></div><ul role="group">  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/configuring-webhint/summary/" tabindex="-1"> Configure webhint in your project </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/configuring-webhint/browser-context/" tabindex="-1"> Browser configuration </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/configuring-webhint/rules-timeout/" tabindex="-1"> Hints timeout </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/configuring-webhint/ignoring-domains/" tabindex="-1"> Ignoring domains </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/configuring-webhint/using-relative-resources/" tabindex="-1"> Using relative resources </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/configuring-webhint/website-authentication/" tabindex="-1"> Website authentication </a></div></li>  </ul></li>  <li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Connectors</span><span class="icon"></span></div><ul role="group">  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/connectors/connector-jsdom/" tabindex="-1"> jsdom </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/connectors/connector-local/" tabindex="-1"> Local </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/connectors/connector-puppeteer/" tabindex="-1"> Puppeteer </a></div></li>  </ul></li>  <li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Development flow integration</span><span class="icon"></span></div><ul role="group">  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/development-flow-integration/summary/" tabindex="-1"> Development flow integration </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/development-flow-integration/local-server/" tabindex="-1"> Test a local server </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/development-flow-integration/travis-and-azure/" tabindex="-1"> Travis CI and Azure Web Apps </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/development-flow-integration/circleci/" tabindex="-1"> Using CircleCI and webhint </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/development-flow-integration/travisci/" tabindex="-1"> Using Travis CI and webhint </a></div></li>  </ul></li>  <li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Extensions</span><span class="icon"></span></div><ul role="group">  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/extensions/extension-browser/" tabindex="-1"> Webhint browser extension </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/extensions/vscode-webhint/" tabindex="-1"> Webhint Visual Studio Code extension </a></div></li>  </ul></li>  <li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Formatters</span><span class="icon"></span></div><ul role="group">  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/formatters/formatter-codeframe/" tabindex="-1"> Codeframe </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/formatters/formatter-excel/" tabindex="-1"> Excel </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/formatters/formatter-html/" tabindex="-1"> HTML </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/formatters/formatter-json/" tabindex="-1"> JSON </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/formatters/formatter-stylish/" tabindex="-1"> Stylish </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/formatters/formatter-summary/" tabindex="-1"> Summary </a></div></li>  </ul></li>  <li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="true"><div class=" toc-section-title--active "><span class="text">Hints</span><span class="icon"></span></div><ul role="group">  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-amp-validator/" tabindex="0"> AMP HTML validator </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-stylesheet-limits/" tabindex="0"> Avoid CSS limits </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-no-http-redirects/" tabindex="0"> Avoid HTTP redirects </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-axe/" tabindex="0"> axe accessibility check </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-babel-config/" tabindex="0"> Babel configuration hint set </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-compat-api/" tabindex="0"> Compatibility of CSS, HTML and JavaScript features </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-content-type/" tabindex="0"> Correct `Content-Type` header </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-manifest-file-extension/" tabindex="0"> Correct manifest extension </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-meta-viewport/" tabindex="0"> Correct viewport </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-no-disallowed-headers/" tabindex="0"> Disallowed HTTP headers </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-disown-opener/" tabindex="0"> External links disown opener </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-manifest-exists/" tabindex="0"> Has web app manifest </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-highest-available-document-mode/" tabindex="0"> Highest document mode </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-http-cache/" tabindex="0"> HTTP cache </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-leading-dot-classlist/" tabindex="0"> Leading &#39;.&#39; in `classList.add` or `classList.remove` </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-manifest-app-name/" tabindex="0"> Manifest has name </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-minified-js/" tabindex="0"> Minify JavaScript </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-doctype/" tabindex="0"> Modern DOCTYPE </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-create-element-svg/" tabindex="0"> No `createElement` with SVG </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-no-p3p/" tabindex="0"> No `P3P` headers </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-no-broken-links/" tabindex="0"> No broken links </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-no-bom/" tabindex="0"> No byte-order mark </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-no-inline-styles/" tabindex="0"> No Inline CSS Styles </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-no-protocol-relative-urls/" tabindex="0"> No protocol-relative URLs </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-no-friendly-error-pages/" tabindex="0"> No small error pages </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-no-vulnerable-javascript-libraries/" tabindex="0"> No vulnerable libraries </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-html-checker/" tabindex="0"> Nu HTML test </a></div></li>  <li role="treeitem" aria-selected="true"><div class=" toc-subsection-title--active " aria-current="location"><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-http-compression/" tabindex="0"> Optimal compression </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-image-optimization-cloudinary/" tabindex="0"> Optimize images </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-performance-budget/" tabindex="0"> Performance budget </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-css-prefix-order/" tabindex="0"> Prefixed CSS first </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-scoped-svg-styles/" tabindex="0"> scoped-svg-styles </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-button-type/" tabindex="0"> Specify button type </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-ssllabs/" tabindex="0"> SSL server test </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-typescript-config/" tabindex="0"> TypeScript configuration hints set </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-no-html-only-headers/" tabindex="0"> Unneeded HTTP headers </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-strict-transport-security/" tabindex="0"> Use `Strict-Transport-Security` header </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-x-content-type-options/" tabindex="0"> Use `X-Content-Type-Options` header </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-apple-touch-icons/" tabindex="0"> Use Apple touch icon </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-meta-charset-utf-8/" tabindex="0"> Use charset `utf-8` </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-https-only/" tabindex="0"> Use HTTPS </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-sri/" tabindex="0"> Use subresource integrity </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-validate-set-cookie-header/" tabindex="0"> Valid `Set-Cookie` header </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-meta-theme-color/" tabindex="0"> Valid `theme-color` </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-manifest-is-valid/" tabindex="0"> Valid manifest </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/hints/hint-webpack-config/" tabindex="0"> webpack configuration hints set </a></div></li>  </ul></li>  <li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Parsers</span><span class="icon"></span></div><ul role="group">  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/parsers/parser-babel-config/" tabindex="-1"> Babel config </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/parsers/parser-css/" tabindex="-1"> CSS </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/parsers/parser-html/" tabindex="-1"> HTML </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/parsers/parser-javascript/" tabindex="-1"> JavaScript </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/parsers/parser-jsx/" tabindex="-1"> JSX </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/parsers/parser-less/" tabindex="-1"> LESS </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/parsers/parser-manifest/" tabindex="-1"> Manifest </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/parsers/parser-package-json/" tabindex="-1"> package.json config </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/parsers/parser-sass/" tabindex="-1"> SASS </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/parsers/parser-typescript/" tabindex="-1"> TypeScript </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/parsers/parser-typescript-config/" tabindex="-1"> TypeScript config </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/parsers/parser-webpack-config/" tabindex="-1"> webpack config </a></div></li>  </ul></li>  <li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Server configurations</span><span class="icon"></span></div><ul role="group">  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/server-configurations/summary/" tabindex="-1"> Examples of server configurations </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/server-configurations/iis/" tabindex="-1"> Basic `web.config` for IIS </a></div></li>  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/server-configurations/apache/" tabindex="-1"> Basic server configuration for Apache </a></div></li>  </ul></li>  <li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Telemetry</span><span class="icon"></span></div><ul role="group">  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/telemetry/summary/" tabindex="-1"> Telemetry </a></div></li>  </ul></li>  <li role="treeitem" aria-label="subsection" tabindex="0" aria-expanded="false"><div class=" toc-section-title "><span class="text">Troubleshoot</span><span class="icon"></span></div><ul role="group">  <li role="treeitem" aria-selected="false"><div class=" toc-subsection-title " aria-current=""><a class="text" href="https://webhint.io/docs/user-guide/troubleshoot/summary/" tabindex="-1"> Troubleshoot webhint installation and runtime issues </a></div></li>  </ul></li>  </ul></div><div class="module module--primary wrap-text">   <h1 id=optimal-compression-http-compression>Optimal compression (<code>http-compression</code>)<a href="#optimal-compression-http-compression" class="headerlink" title="Optimal compression (http-compression)"></a></h1><p><code>http-compression</code> warns against serving resources uncompressed
or using an inappropriate encoding.</p>
<h2 id=why-is-this-important>Why is this important?<a href="#why-is-this-important" class="headerlink" title="Why is this important?"></a></h2><p>One of the fastest and easiest ways one can improve web site/app
performance is to reduce the amount of data sent to the client
by using HTTP compression. This not only <a target="_blank" href="https://whatdoesmysitecost.com/" >reduces the data used by
the user</a>, but can also significantly cut down on the server
costs.</p>
<p>Here are a few rules to follow to get the most out of compressing
resources:</p>
<ul>
<li><p>Only compress resources for which the result of the compression
will be smaller than original size.</p>
<p>In general text-based resources (HTML, CSS, JavaScript, SVGs, etc.)
compress very well especially if the file is not very small.
The same goes for some other file formats (e.g.: ICO files, web fonts
such as EOT, OTF, and TTF, etc.)</p>
<p>However, compressing resources that are already compressed (e.g.:
images, audio files, PDFs, etc.) not only wastes CPU resources, but
usually results in little to no reduction, or in some cases, results
in an increase in file size.</p>
<p>The same applies to resources that are very small because of the
overhead of compression file formats.</p>
</li>
<li><p>Use the most efficient compression method.</p>
<p>gzip is the most used encoding method currently as it strikes a
good balance between compression ratio (as <a target="_blank" href="https://www.youtube.com/watch?v=Mjab_aZsdxw&t=24s" >high as 70%</a>
especially for larger files) and encoding time and is supported
pretty much everywhere.</p>
<p>Better savings can be achieved using <a target="_blank" href="https://github.com/google/zopfli" >Zopfli</a> which
can reduce the size on average <a target="_blank" href="https://developers.googleblog.com/2013/02/compress-data-more-densely-with-zopfli.html" >3–8% more than gzip</a>. Since Zopfli output (for the gzip option) is valid
gzip content, Zopfli works everywhere gzip works. The only down
side is that encoding takes more time than gzip, making Zopfli
more suitable for static content (i.e. encoding resources as part
of a build script, not on the fly).</p>
<p>Things can be improved even further using <a target="_blank" href="https://github.com/google/brotli" >Brotli</a>.
This encoding can achieve <a target="_blank" href="https://opensource.googleblog.com/2015/09/introducing-brotli-new-compression.html" >20–26% higher compression ratios</a> over Zopfli. However, this encoding is not compatible
with gzip, limiting the support to modern browsers and its usage to
<a target="_blank" href="https://medium.com/@yoavweiss/well-the-technical-reason-for-brotli-being-https-only-is-that-otherwise-there-s-a-very-high-508f15f0ad95" >only over HTTPS (as proxies misinterpret unknown encodings)</a>.</p>
<p>As a rule, for best performance and compatibility, resources
should be served compressed with Zopfli over insecure HTTP, and
Brotli when sending over HTTPS with a fallback to Zopfli if HTTPS
is not supported.</p>
</li>
<li><p>Avoid using deprecated or not widely supported compression formats,
and <code>Content-Type</code> values.</p>
<p>Avoid using deprecated <code>Content-Type</code> values such as <code>x-gzip</code>. Some
user agents may alias them to the correct, current equivalent value
(e.g.: alias <code>x-gzip</code> to gzip), but that is not always true.</p>
<p>Also avoid using encodings that are not widely supported (e.g.:
<code>compress</code>, <code>bzip2</code>, <a target="_blank" href="https://groups.google.com/a/chromium.org/forum/#!topic/blink-dev/nQl0ORHy7sw" ><code>sdch</code></a>, etc.), and/or may not
be as efficient, or can create problems (e.g.: <a target="_blank" href="https://stackoverflow.com/questions/9170338/why-are-major-web-sites-using-GZIP/9186091#9186091" ><code>deflate</code></a>).</p>
</li>
<li><p>Avoid potential caching related issues.</p>
<p>When resources are served compressed, they should be served with
the <code>Vary</code> header containing the <code>Accept-Encoding</code> value (or with
something such as <code>Cache-Control: private</code> that prevents caching
in proxy caches and such altogether).</p>
<p>This needs to be done to avoid problems such as an intermediate proxy
caching the compressed version of the resource and then sending it
to all user agents, whether they support that encoding
or even requested the compressed version.</p>
</li>
<li><p>Resources should be served compressed only when requested as such,
appropriately encoded, and without relying on user agent sniffing.</p>
<p>The <code>Accept-Encoding</code> request header specified should be respected.
Sending a resource encoded with a different encoding than one of the
ones accepted can lead to problems.</p>
<p>Here are some examples:</p>
<ul>
<li><p>If the user agent makes a request containing the <a target="_blank" href="https://tools.ietf.org/html/rfc2616#page-24" ><code>Accept-Encoding: identity</code></a> header, that means it wants the response to
not be transformed in any way, so the server should send the data
uncompress.</p>
</li>
<li><p>If the user agent makes a request containing the <code>Accept-Encoding: gzip, br</code> header, that means it wants the response to either be
uncompress or compress with one of the specified encodings, namely:
gzip (or the gzip compatible Zopfli) or Brotli. In the optimal case,
the server sends the data compress with Zopfli over HTTP, and Brotli
over HTTPS.</p>
</li>
</ul>
</li>
<li><p>Dealing with special cases.</p>
<p>One such special case is <code>SVGZ</code> files that are <code>SVG</code> files
compressed with gzip. Since they are already compressed, they
shouldn’t be compressed again. However, sending them without the
<code>Content-Encoding: gzip</code> header will create problems as user agents
will not know they need to decompress before trying to display them.</p>
</li>
</ul>
<h2 id=what-does-the-hint-check>What does the hint check?<a href="#what-does-the-hint-check" class="headerlink" title="What does the hint check?"></a></h2><p>The hint checks for the use cases previously specified. Namely, it
checks that:</p>
<ul>
<li><p>Only resources for which the result of the compression is smaller
than original size are served compressed.</p>
</li>
<li><p>The most efficient encodings are used (by default the hint check if
Zopfli is used over HTTP and Brotli over <code>HTTPS</code>, however that can
be changed, see: <a href="#can-the-hint-be-configured" ><code>Can the hint be configured?</code>
section</a>).</p>
</li>
<li><p>Deprecated or not widely supported encodings, and <code>Content-Type</code>
values are not used.</p>
</li>
<li><p>Potential caching related issues are avoided.</p>
</li>
<li><p>Resources are served compressed only when requested as such, are
appropriately encoded, and no user-agent detection is done.</p>
</li>
<li><p>Special cases (such as <code>SVGZ</code>) are handled correctly.</p>
</li>
</ul>
<h3 id=examples-that-trigger-the-hint>Examples that <strong>trigger</strong> the hint<a href="#examples-that-trigger-the-hint" class="headerlink" title="Examples that trigger the hint"></a></h3><p>Resource that should be compressed is not served compressed.</p>
<p>e.g.: When the request for <code>https://example.com/example.js</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate, br</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Type: text/javascript

&lt;file content&gt;</pre></td></tr></table></figure><p>Resource that should not be compressed is served compressed.</p>
<p>e.g.: When the request for <code>https://example.com/example.png</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate, br</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: br
Content-Type: image/png
Vary: Accept-Encoding

&lt;file content compressed with Brotli&gt;</pre></td></tr></table></figure><p>Resource that compressed results in a bigger or equal size to the
uncompressed size is still served compressed.</p>
<p>e.g.: For <code>http://example.com/example.js</code> containing only <code>const x = 5;</code>,
using the defaults, the sizes may be as follows.</p>
<figure class="highlight text"><table><tr><td class="code"><pre>original size: 13 bytes

gzip size:    38 bytes
zopfli size:  33 bytes
brotli size:  17 bytes</pre></td></tr></table></figure><p>When the request for <code>http://example.com/example.js</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: gzip
Content-Type: text/javascript
Vary: Accept-Encoding

&lt;file content compressed with gzip&gt;</pre></td></tr></table></figure><p>Resource that should be compressed is served compressed with deprecated
or disallowed compression method or <code>Content-Encoding</code> value.</p>
<p>e.g.: When the request for <code>http://example.com/example.js</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate</pre></td></tr></table></figure><p>response contains deprecated <code>x-gzip</code> value for <code>Content-Encoding</code></p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: x-gzip
Content-Type: text/javascript
Vary: Accept-Encoding

&lt;file content compressed with gzip&gt;</pre></td></tr></table></figure><p>response is compressed with disallowed <code>compress</code> compression method</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: compress
Content-Type: text/javascript
Vary: Accept-Encoding

&lt;file content compressed with compress&gt;</pre></td></tr></table></figure><p>or response tries to use deprecated SDCH</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: gzip,
Content-Type: text/javascript
Get-Dictionary: /dictionaries/search_dict, /dictionaries/help_dict
Vary: Accept-Encoding

&lt;file content compressed with gzip&gt;</pre></td></tr></table></figure><p>Resource that should be compressed is not served compressed using
Zopfli over HTTP.</p>
<p>e.g.: When the request for <code>http://example.com/example.js</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: gzip
Content-Type: text/javascript
Vary: Accept-Encoding

&lt;content compressed with gzip&gt;</pre></td></tr></table></figure><p>Resource that should be compressed is served compressed using Brotli
over HTTP.</p>
<p>e.g.: When the request for <code>http://example.com/example.js</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate, br</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: br
Content-Type: text/javascript
Vary: Accept-Encoding

&lt;content compressed with Brotli&gt;</pre></td></tr></table></figure><p>Resource that should be compressed is not served compressed using
Brotli over HTTPS.</p>
<p>e.g.: When the request for <code>https://example.com/example.js</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate, br</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: gzip
Content-Type: text/javascript
Vary: Accept-Encoding

&lt;content compressed with Zopfli&gt;</pre></td></tr></table></figure><p>Resource that is served compressed doesn’t account for caching
(e.g.: is not served with the <code>Vary</code> header with the <code>Accept-Encoding</code>
value included, or something such as <code>Cache-Control: private</code>).</p>
<p>e.g.: When the request for <code>https://example.com/example.js</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate, br</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: br
Content-Type: text/javascript

&lt;content compressed with Brotli&gt;</pre></td></tr></table></figure><p>Resource is blindly served compressed using gzip no matter what the
user agent advertises as supporting.</p>
<p>E.g.: When the request for <code>https://example.com/example.js</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: br</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: gzip
Content-Type: text/javascript
Vary: Accept-Encoding

&lt;content compressed with gzip&gt;</pre></td></tr></table></figure><p>Resource is served compressed only for certain user agents.</p>
<p>E.g.: When the request for <code>https://example.com/example.js</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate, br
User-Agent: Mozilla/5.0 Gecko</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Type: text/javascript

&lt;file content&gt;</pre></td></tr></table></figure><p>however, when requested with</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate, br
User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.13; rv:57.0) Gecko/20100101 Firefox/57.0</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: br
Content-Type: text/javascript
Vary: Accept-Encoding

&lt;content compressed with Brotli&gt;</pre></td></tr></table></figure><p><code>SVGZ</code> resource is not served with <code>Content-Encoding: gzip</code> header:</p>
<p>E.g.: When the request for <code>https://example.com/example.svgz</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate, br</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Type: image/svg+xml

&lt;file content&gt;</pre></td></tr></table></figure><h3 id=examples-that-pass-the-hint>Examples that <strong>pass</strong> the hint<a href="#examples-that-pass-the-hint" class="headerlink" title="Examples that pass the hint"></a></h3><p>Resource that should be compressed is served compressed using Zopfli
over HTTP and with the <code>Vary: Accept-Encoding</code> header.</p>
<p>e.g.: When the request for <code>http://example.com/example.js</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: gzip
Content-Type: text/javascript
Vary: Accept-Encoding

&lt;content compressed with Zopfli&gt;</pre></td></tr></table></figure><p>Resource that should be compressed is served compressed using Brotli
over HTTPS and with the <code>Vary: Accept-Encoding</code> header.</p>
<p>e.g.: When the request for <code>https://example.com/example.js</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate, br</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: br
Content-Type: text/javascript
Vary: Accept-Encoding

&lt;content compressed with Brotli&gt;</pre></td></tr></table></figure><p>Resource that should not be compressed is not served compressed.</p>
<p>e.g.: When the request for <code>https://example.com/example.png</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate, br</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Type: image/png

&lt;image content&gt;</pre></td></tr></table></figure><p><code>SVGZ</code> resource is served with <code>Content-Encoding: gzip</code> header:</p>
<p>e.g.: When the request for <code>https://example.com/example.svgz</code> contains</p>
<figure class="highlight text"><table><tr><td class="code"><pre>...
Accept-Encoding: gzip, deflate, br</pre></td></tr></table></figure><p>response is</p>
<figure class="highlight text"><table><tr><td class="code"><pre>HTTP/... 200 OK

...
Content-Encoding: gzip
Content-Type: image/svg+xml

&lt;SVGZ content&gt;</pre></td></tr></table></figure><h2 id=how-to-configure-the-server-to-pass-this-hint>How to configure the server to pass this hint<a href="#how-to-configure-the-server-to-pass-this-hint" class="headerlink" title="How to configure the server to pass this hint"></a></h2><details><summary>How to configure Apache</summary>

<p>Apache can be configured to conditionally (based on media type)
compress resources using gzip as well as send the appropriate
<code>Content-Encoding</code> and <code>Vary</code> headers using <a target="_blank" href="https://httpd.apache.org/docs/current/mod/mod_deflate.html" ><code>mod_deflate</code></a>
and the <a target="_blank" href="https://httpd.apache.org/docs/2.4/mod/mod_filter.html#addoutputfilterbytype" ><code>AddOutputFilterByType</code> directive</a>.</p>
<p>For Zopfli, there isn’t a core Apache module or directive to do it,
However, since compressing things using Zopfli takes more time, it’s
usually indicated to do it as part of your build step. Once that is
done, Apache needs to be configure to server those pre-compressed
files when gzip compression is requested by the user agent.</p>
<p>Starting with Apache <code>v2.4.26</code>, <a target="_blank" href="https://httpd.apache.org/docs/trunk/mod/mod_brotli.html" ><code>mod_brotli</code></a> and the
<a target="_blank" href="https://httpd.apache.org/docs/2.4/mod/mod_filter.html#addoutputfilterbytype" ><code>AddOutputFilterByType</code> directive</a> can be used
to conditionally compress with Brotli as well as add the
<code>Content-Encoding</code> and <code>Vary</code> headers. However, like Zopfli, Brotli can
take more time. So, when provided, <code>mod_brotli</code> may be used to compress
dynamic resources (especially if set to use lower compression quality
levels), but for static resources it’s indicated to compress them as
part of the build process and configure Apache to serve those
pre-compressed resources whenever Brotli compression is requested over
HTTPS.</p>
<p>If you don’t want to start from scratch, below is a generic starter
snippet that contains the necessary configurations to ensure that
commonly used file types are served compressed and with the appropriate
headers, and thus, make your web site/app pass this hint.</p>
<p>Important notes:</p>
<ul>
<li><p>The following relies on Apache being configure to have the correct
filename extensions to media types mappings (see Apache section from
<a href="../content-type/#how-to-configure-the-server-to-pass-this-hint" ><code>content-type</code> hint</a>).</p>
</li>
<li><p>For Zopfli and Brotli this snippet assumes that running the build
step will result in 3 version for every resource:</p>
<ul>
<li>the original (e.g.: script.js) - you should also have this file
in case the user agent doesn’t requests things compressed</li>
<li>the file compressed with Zopfli (e.g.: script.js.gz)</li>
<li>the file compressed with Brotli (e.g.: script.js.br)</li>
</ul>
</li>
</ul>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="hljs-section">&lt;IfModule mod_headers.c&gt;</span>
    <span class="hljs-section">&lt;IfModule mod_rewrite.c&gt;</span>

        <span class="hljs-comment"># Turn on the rewrite engine (this is necessary in order for</span>
        <span class="hljs-comment"># the `RewriteRule` directives to work).</span>
        <span class="hljs-comment">#</span>
        <span class="hljs-comment"># https://httpd.apache.org/docs/current/mod/core.html#options</span>

        <span class="hljs-attribute">RewriteEngine</span> <span class="hljs-literal">On</span>

        <span class="hljs-comment"># Enable the `FollowSymLinks` option if it isn&#x27;t already.</span>
        <span class="hljs-comment">#</span>
        <span class="hljs-comment"># https://httpd.apache.org/docs/current/mod/core.html#options</span>

        <span class="hljs-attribute">Options</span> +FollowSymlinks

        <span class="hljs-comment"># If the web host doesn&#x27;t allow the `FollowSymlinks` option,</span>
        <span class="hljs-comment"># it needs to be comment out or removed, and then the following</span>
        <span class="hljs-comment"># uncomment, but be aware of the performance impact.</span>
        <span class="hljs-comment">#</span>
        <span class="hljs-comment"># https://httpd.apache.org/docs/current/misc/perf-tuning.html#symlinks</span>

        <span class="hljs-comment"># Options +SymLinksIfOwnerMatch</span>

        <span class="hljs-comment"># Depending on how the server is set up, you may also need to</span>
        <span class="hljs-comment"># use the `RewriteOptions` directive to enable some options for</span>
        <span class="hljs-comment"># the rewrite engine.</span>
        <span class="hljs-comment">#</span>
        <span class="hljs-comment"># https://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewriteoptions</span>

        <span class="hljs-comment"># RewriteBase /</span>

        <span class="hljs-comment"># - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span>

        <span class="hljs-comment"># 1) Brotli</span>

            <span class="hljs-comment"># If `Accept-Encoding` header contains `br`</span>

            <span class="hljs-attribute">RewriteCond</span> <span class="hljs-string">&quot;%&#123;HTTP:Accept-encoding&#125;&quot;</span> <span class="hljs-string">&quot;br&quot;</span>

            <span class="hljs-comment"># and the request is made over HTTPS.</span>

            <span class="hljs-attribute">RewriteCond</span> <span class="hljs-string">&quot;%&#123;HTTPS&#125;&quot;</span> <span class="hljs-string">&quot;on&quot;</span>

            <span class="hljs-comment"># The Brotli pre-compressed version of the file exists</span>
            <span class="hljs-comment"># (e.g.: `script.js` is requested and `script.js.gz` exists).</span>

            <span class="hljs-attribute">RewriteCond</span> <span class="hljs-string">&quot;%&#123;REQUEST_FILENAME&#125;\.br&quot;</span> <span class="hljs-string">&quot;-s&quot;</span>

            <span class="hljs-comment"># Then, serve the Brotli pre-compressed version of the file.</span>

            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;^(.*)&quot;</span> <span class="hljs-string">&quot;$1\.br&quot;</span><span class="hljs-meta"> [QSA]</span>

            <span class="hljs-comment"># Set the correct media type of the requested file. Otherwise,</span>
            <span class="hljs-comment"># it will be served with the br media type since the file has</span>
            <span class="hljs-comment"># the `.br` extension.</span>
            <span class="hljs-comment">#</span>
            <span class="hljs-comment"># Also, set the special purpose environment variables so</span>
            <span class="hljs-comment"># that Apache doesn&#x27;t recompress these files.</span>

            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.(ico|cur)\.br$&quot;</span>      <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=image/x-icon,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.(md|markdown)\.br$&quot;</span>  <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/markdown,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.appcache\.br$&quot;</span>       <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/cache-manifest,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.atom\.br$&quot;</span>           <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/atom+xml,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.bmp\.br$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=image/bmp,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.css\.br$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/css,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.eot.\.br$&quot;</span>           <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/vnd.ms-fontobject,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.geojson\.br$&quot;</span>        <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/vnd.geo+json,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.html?\.br$&quot;</span>          <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/html,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.ics\.br$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/calendar,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.json\.br$&quot;</span>           <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/json,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.jsonld\.br$&quot;</span>         <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/ld+json,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.m?js\.br$&quot;</span>           <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/javascript,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.otf\.br$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=font/otf,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.rdf\.br$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/rdf+xml,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.rss\.br$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/rss+xml,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.svg\.br$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=image/svg+xml,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.ttc\.br$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=font/collection,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.ttf\.br$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=font/ttf,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.txt\.br$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/plain,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.vc(f|ard)\.br$&quot;</span>      <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/vcard,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.vtt\.br$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/vtt,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.webmanifest\.br$&quot;</span>    <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/manifest+json,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.xhtml\.br$&quot;</span>          <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/xhtml+xml,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.xml\.br$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/xml,E=no-brotli:1,E=no-gzip:1]</span>

            <span class="hljs-comment"># Set the `Content-Encoding` header.</span>

            <span class="hljs-section">&lt;FilesMatch <span class="hljs-string">&quot;\.br$&quot;</span>&gt;</span>
                <span class="hljs-attribute">Header</span> append Content-Encoding br
            <span class="hljs-section">&lt;/FilesMatch&gt;</span>

        <span class="hljs-comment"># - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span>

        <span class="hljs-comment"># 2) Zopfli</span>

            <span class="hljs-comment"># If `Accept-Encoding` header contains `gzip` and the</span>
            <span class="hljs-comment"># request is made over HTTP.</span>

            <span class="hljs-attribute">RewriteCond</span> <span class="hljs-string">&quot;%&#123;HTTP:Accept-encoding&#125;&quot;</span> <span class="hljs-string">&quot;gzip&quot;</span>

            <span class="hljs-comment"># The Zopfli pre-compressed version of the file exists</span>
            <span class="hljs-comment"># (e.g.: `script.js` is requested and `script.js.gz` exists).</span>

            <span class="hljs-attribute">RewriteCond</span> <span class="hljs-string">&quot;%&#123;REQUEST_FILENAME&#125;\.gz&quot;</span> <span class="hljs-string">&quot;-s&quot;</span>

            <span class="hljs-comment"># Then serve the Zopfli pre-compressed version of the file.</span>

            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;^(.*)&quot;</span> <span class="hljs-string">&quot;$1\.gz&quot;</span><span class="hljs-meta"> [QSA]</span>

            <span class="hljs-comment"># Set the media types of the file, as otherwise, because</span>
            <span class="hljs-comment"># the file has the `.gz` extension, it wil be served with</span>
            <span class="hljs-comment"># the gzip media type.</span>
            <span class="hljs-comment">#</span>
            <span class="hljs-comment"># Also, set the special purpose environment variables so</span>
            <span class="hljs-comment"># that Apache doesn&#x27;t recompress these files.</span>

            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.(ico|cur)\.gz$&quot;</span>      <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=image/x-icon,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.(md|markdown)\.gz$&quot;</span>  <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/markdown,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.appcache\.gz$&quot;</span>       <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/cache-manifest,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.atom\.gz$&quot;</span>           <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/atom+xml,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.bmp\.gz$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=image/bmp,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.css\.gz$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/css,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.eot.\.gz$&quot;</span>           <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/vnd.ms-fontobject,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.geojson\.gz$&quot;</span>        <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/vnd.geo+json,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.html?\.gz$&quot;</span>          <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/html,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.ics\.gz$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/calendar,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.json\.gz$&quot;</span>           <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/json,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.jsonld\.gz$&quot;</span>         <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/ld+json,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.m?js\.gz$&quot;</span>           <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/javascript,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.otf\.gz$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=font/otf,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.rdf\.gz$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/rdf+xml,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.rss\.gz$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/rss+xml,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.svg\.gz$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=image/svg+xml,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.ttc\.gz$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=font/collection,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.ttf\.gz$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=font/ttf,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.txt\.gz$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/plain,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.vc(f|ard)\.gz$&quot;</span>      <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/vcard,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.vtt\.gz$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/vtt,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.webmanifest\.gz$&quot;</span>    <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/manifest+json,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.xhtml\.gz$&quot;</span>          <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=application/xhtml+xml,E=no-brotli:1,E=no-gzip:1]</span>
            <span class="hljs-attribute">RewriteRule</span> <span class="hljs-string">&quot;\.xml\.gz$&quot;</span>            <span class="hljs-string">&quot;-&quot;</span><span class="hljs-meta"> [T=text/xml,E=no-brotli:1,E=no-gzip:1]</span>

            <span class="hljs-comment"># Set the `Content-Encoding` header.</span>

            <span class="hljs-section">&lt;FilesMatch <span class="hljs-string">&quot;\.gz$&quot;</span>&gt;</span>
                <span class="hljs-attribute">Header</span> append Content-Encoding gzip
            <span class="hljs-section">&lt;/FilesMatch&gt;</span>

        <span class="hljs-comment"># - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -</span>

        <span class="hljs-comment"># Set the `Vary` header.</span>

        <span class="hljs-section">&lt;FilesMatch <span class="hljs-string">&quot;\.(br|gz)$&quot;</span>&gt;</span>
            <span class="hljs-attribute">Header</span> append Vary Accept-Encoding
        <span class="hljs-section">&lt;/FilesMatch&gt;</span>

    <span class="hljs-section">&lt;/IfModule&gt;</span>
<span class="hljs-section">&lt;/IfModule&gt;</span>

<span class="hljs-section">&lt;IfModule mod_deflate.c&gt;</span>

    <span class="hljs-comment"># 3) gzip</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># [!] For Apache versions below version 2.3.7 you don&#x27;t need to</span>
    <span class="hljs-comment"># enable `mod_filter` and can remove the `&lt;IfModule mod_filter.c&gt;`</span>
    <span class="hljs-comment"># and `&lt;/IfModule&gt;` lines as `AddOutputFilterByType` is still in</span>
    <span class="hljs-comment"># the core directives.</span>
    <span class="hljs-comment">#</span>
    <span class="hljs-comment"># https://httpd.apache.org/docs/current/mod/mod_filter.html#addoutputfilterbytype</span>

    <span class="hljs-section">&lt;IfModule mod_filter.c&gt;</span>
        <span class="hljs-attribute">AddOutputFilterByType</span> DEFLATE <span class="hljs-string">&quot;application/atom+xml&quot;</span> \
                                      &quot;<span class="hljs-attribute">application</span>/json<span class="hljs-string">&quot; \
                                      &quot;</span>application/manifest+json<span class="hljs-string">&quot; \
                                      &quot;</span>application/rdf+xml<span class="hljs-string">&quot; \
                                      &quot;</span>application/rss+xml<span class="hljs-string">&quot; \
                                      &quot;</span>application/schema+json<span class="hljs-string">&quot; \
                                      &quot;</span>application/vnd.ms-fontobject<span class="hljs-string">&quot; \
                                      &quot;</span>application/xhtml+xml<span class="hljs-string">&quot; \
                                      &quot;</span>font/collection<span class="hljs-string">&quot; \
                                      &quot;</span>font/opentype<span class="hljs-string">&quot; \
                                      &quot;</span>font/otf<span class="hljs-string">&quot; \
                                      &quot;</span>font/ttf<span class="hljs-string">&quot; \
                                      &quot;</span>image/bmp<span class="hljs-string">&quot; \
                                      &quot;</span>image/svg+xml<span class="hljs-string">&quot; \
                                      &quot;</span>image/x-icon<span class="hljs-string">&quot; \
                                      &quot;</span>text/cache-manifest<span class="hljs-string">&quot; \
                                      &quot;</span>text/css<span class="hljs-string">&quot; \
                                      &quot;</span>text/html<span class="hljs-string">&quot; \
                                      &quot;</span>text/javascript<span class="hljs-string">&quot; \
                                      &quot;</span>text/plain<span class="hljs-string">&quot; \
                                      &quot;</span>text/vtt<span class="hljs-string">&quot; \
                                      &quot;</span>text/xml<span class="hljs-string">&quot;
    &lt;/IfModule&gt;

    # - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

    # Special case: SVGZ
    #
    # If these files type would be served without the
    # `Content-Enable: gzip` response header, user agents would
    # not know that they first need to uncompress the response,
    # and thus, wouldn&#x27;t be able to understand the content.

    &lt;IfModule mod_mime.c&gt;
        AddEncoding gzip              svgz
    &lt;/IfModule&gt;

&lt;/IfModule&gt;</span></pre></td></tr></table></figure><p>Also note that:</p>
<ul>
<li><p>The above snippet works with Apache <code>v2.2.0+</code>, but you need to
have <a target="_blank" href="https://httpd.apache.org/docs/current/mod/mod_deflate.html" ><code>mod_deflate</code></a>, <a target="_blank" href="https://httpd.apache.org/docs/current/mod/mod_mime.html" ><code>mod_mime</code></a>,
<a target="_blank" href="https://httpd.apache.org/docs/current/mod/mod_rewrite.html" ><code>mod_rewrite</code></a>, and for Apache versions below
<code>v2.3.7</code> <a target="_blank" href="https://httpd.apache.org/docs/current/mod/mod_filter.html" ><code>mod_filter</code></a> <a target="_blank" href="https://github.com/h5bp/server-configs-apache/tree/7eb30da6a06ec4fc24daf33c75b7bd86f9ad1f68#enable-apache-httpd-modules" >enabled</a> in order for it to take effect.</p>
</li>
<li><p>If you have access to the <a target="_blank" href="https://httpd.apache.org/docs/current/configuring.html#main" >main Apache configuration file</a> (usually called <code>httpd.conf</code>), you should add
the logic in, for example, a <a target="_blank" href="https://httpd.apache.org/docs/current/mod/core.html#directory" ><code>&lt;Directory&gt;</code></a>
section in that file. This is usually the recommended way as
<a target="_blank" href="https://httpd.apache.org/docs/current/howto/htaccess.html#when" >using <code>.htaccess</code> files slows down</a> Apache!</p>
<p>If you don’t have access to the main configuration file (quite
common with hosting services), add the snippets in a <code>.htaccess</code>
file in the root of the web site/app.</p>
</li>
</ul>
<p>For the complete set of configurations, not just for this rule, see
the <a href="https://webhint.io/docs/user-guide/server-configurations/apache/" >Apache server configuration related documentation</a>.</p>
</details>
<details><summary>How to configure IIS</summary>

<p>IIS 7+ can be configured to compress responses (static or dynamic)
via the <a target="_blank" href="https://docs.microsoft.com/en-us/iis/configuration/system.webserver/urlcompression" ><code>&lt;urlCompression&gt; element</code></a>.</p>
<p>For Zopfli, there isn’t a core IIS module to do it. However, since
compressing things using Zopfli takes more time, it’s usually indicated
to do it as part of your build step. Once that is done, IIS needs to
be configured to server those pre-compressed files when gzip compression
is requested by the user agent.</p>
<p>Brotli, like Zopfli, takes more time. It’s indicated to compress
resources at build time, and configure IIS to serve those pre-compressed
resources whenever Brotli compression is requested over HTTPS by the
user agent.</p>
<p>If you don’t want to start from scratch, below is a generic starter
snippet that contains the necessary configurations to ensure that
commonly used file types are served compressed and with the appropriate
headers, and thus, make your web site/app pass this hint.</p>
<p>Important notes:</p>
<ul>
<li><p>The following relies on IIS being configured to have the correct
filename extensions to media types mappings (see IIS section from
<a href="../content-type/#how-to-configure-the-server-to-pass-this-hint" ><code>content-type</code> rule</a>).</p>
</li>
<li><p>For Zopfli and Brotli this snippet assumes that running the build
step will result in 3 version for every resource:</p>
<ul>
<li>the original (e.g.: script.js) - you should also have this file
in case the user agent doesn’t requests things compressed</li>
<li>the file compressed with Zopfli (e.g.: script.js.gz)</li>
<li>the file compressed with Brotli (e.g.: script.js.br)</li>
</ul>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">system.webServer</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">staticContent</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- IIS doesn&#x27;t know about Brotli. If mimeMap is not added
                 br files will not be served --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">mimeMap</span> <span class="hljs-attr">fileExtension</span>=<span class="hljs-string">&quot;.br&quot;</span> <span class="hljs-attr">mimeType</span>=<span class="hljs-string">&quot;application/brotli&quot;</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">staticContent</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">rewrite</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">rewriteMaps</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- List of all the file types and the right `content-type` values
                     when compressed. They will be restored in an outboud rule. --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">rewriteMap</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;CompressedExtensions&quot;</span> <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span>
                    <span class="hljs-comment">&lt;!-- zopfli mapping --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;appcache.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/cache-manifest; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;bmp.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;image/bmp&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;css.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/css; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;cur.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;image/x-icon&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;eot.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;application/vnd.ms-fontobject&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;html.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/html; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;ico.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;image/x-icon&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;js.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/javascript; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;json.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;application/json; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;map.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;application/json; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;mjs.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/javascript; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;otf.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;font/otf&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;rss.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;application/rss+xml; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;svg.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;image/svg+xml; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;ttf.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;font/ttf; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;txt.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/plain; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;vtt.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/vtt; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;webmanifest.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;application/manifest+json; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;xml.gz&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/xml; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-comment">&lt;!-- brotli mapping --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;appcache.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/cache-manifest; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;bmp.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;image/bmp&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;css.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/css; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;cur.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;image/x-icon&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;eot.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;application/vnd.ms-fontobject&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;html.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/html; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;ico.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;image/x-icon&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;js.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/javascript; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;json.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;application/json; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;map.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;application/json; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;mjs.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/javascript; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;otf.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;font/otf&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;rss.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;application/rss+xml; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;svg.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;image/svg+xml; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;ttf.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;font/ttf; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;txt.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/plain; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;vtt.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/vtt; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;webmanifest.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;application/manifest+json; charset=utf-8&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;xml.br&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;text/xml; charset=utf-8&quot;</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">rewriteMap</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">rewriteMaps</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">outboundRules</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- Restore the mime type for compressed assets. See below for more explanation. --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;RestoreMime&quot;</span> <span class="hljs-attr">enabled</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">match</span> <span class="hljs-attr">serverVariable</span>=<span class="hljs-string">&quot;RESPONSE_Content_Type&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;.*&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">conditions</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">input</span>=<span class="hljs-string">&quot;&#123;HTTP_URL&#125;&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;\.((?:appcache|bmp|css|cur|eot|html|ico|js|json|map|mjs|otf|rss|svg|ttf|txt|vtt|webmanifest|xml)\.(gz|br))&quot;</span> /&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">input</span>=<span class="hljs-string">&quot;&#123;CompressedExtensions:&#123;C:1&#125;&#125;&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;(.+)&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">conditions</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Rewrite&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&#123;C:3&#125;&quot;</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">rule</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- add vary header --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;AddVaryAcceptEncoding&quot;</span> <span class="hljs-attr">preCondition</span>=<span class="hljs-string">&quot;PreCompressedFile&quot;</span> <span class="hljs-attr">enabled</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">match</span> <span class="hljs-attr">serverVariable</span>=<span class="hljs-string">&quot;RESPONSE_Vary&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;.*&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Rewrite&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Accept-Encoding&quot;</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">rule</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- indicate response is encoded with brotli --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;AddEncodingBrotli&quot;</span> <span class="hljs-attr">preCondition</span>=<span class="hljs-string">&quot;PreCompressedBrotli&quot;</span> <span class="hljs-attr">enabled</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">stopProcessing</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">match</span> <span class="hljs-attr">serverVariable</span>=<span class="hljs-string">&quot;RESPONSE_Content_Encoding&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;.*&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Rewrite&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;br&quot;</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">rule</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- indicate response is encoded with gzip --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;AddEncodingZopfli&quot;</span> <span class="hljs-attr">preCondition</span>=<span class="hljs-string">&quot;PreCompressedZopfli&quot;</span> <span class="hljs-attr">enabled</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">stopProcessing</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">match</span> <span class="hljs-attr">serverVariable</span>=<span class="hljs-string">&quot;RESPONSE_Content_Encoding&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;.*&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Rewrite&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;gzip&quot;</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">rule</span>&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-name">preConditions</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">preCondition</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;PreCompressedFile&quot;</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">input</span>=<span class="hljs-string">&quot;&#123;HTTP_URL&#125;&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;\.((?:appcache|bmp|css|cur|eot|html|ico|js|json|map|mjs|otf|rss|svg|ttf|txt|vtt|webmanifest|xml)\.(gz|br))&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">preCondition</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">preCondition</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;PreCompressedZopfli&quot;</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">input</span>=<span class="hljs-string">&quot;&#123;HTTP_URL&#125;&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;\.((?:appcache|bmp|css|cur|eot|html|ico|js|json|map|mjs|otf|rss|svg|ttf|txt|vtt|webmanifest|xml)\.gz)&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">preCondition</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">preCondition</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;PreCompressedBrotli&quot;</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">input</span>=<span class="hljs-string">&quot;&#123;HTTP_URL&#125;&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;\.((?:appcache|bmp|css|cur|eot|html|ico|js|json|map|mjs|otf|rss|svg|ttf|txt|vtt|webmanifest|xml)\.br)&quot;</span> /&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">preCondition</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">preConditions</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">outboundRules</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">rules</span>&gt;</span>
                <span class="hljs-comment">&lt;!--
                    Compression rules. This works in combination with the `outbound rules` bellow. Basically what happens is:

                    1. We check if the user agent supprots compression via the `Accept-Encoding` header.
                    2. We prioritize `brotli` of `gzip`, and append the right extension (`.gz` or `.br`) and prepend `dist`.
                       `dist` is where all the pulic assets live. This is transparent to the user.
                       We assume all assets with those extensions have a `.gz` and `.br` version because of the build system we
                       have.
                       IIS then serves the asset applying the outbound rules.
                    3. If the final part of the file (`.ext.gz` or `.ext.br`) matches one of the `CompressedExtensions` `rewriteMap`, we
                       rewrite the `content-type` header
                    4. Based on the extension (`.gz` or `.br`), we rewrite the `content-encoding` header
                --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;ServerPreCompressedBrotli&quot;</span> <span class="hljs-attr">stopProcessing</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">match</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;^(.*/)?(.*?)\.(appcache|bmp|css|cur|eot|html|ico|js|json|map|mjs|otf|rss|svg|ttf|txt|vtt|webmanifest|xml)([?#].*)?$&quot;</span> <span class="hljs-attr">ignoreCase</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">conditions</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">input</span>=<span class="hljs-string">&quot;&#123;HTTP_ACCEPT_ENCODING&#125;&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;br&quot;</span>/&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">conditions</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Rewrite&quot;</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;dist&#123;REQUEST_URI&#125;.br&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">rule</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;ServerPreCompressedZopfli&quot;</span> <span class="hljs-attr">stopProcessing</span>=<span class="hljs-string">&quot;true&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">match</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;^(.*/)?(.*?)\.(appcache|bmp|css|cur|eot|html|ico|js|json|map|mjs|otf|rss|svg|ttf|txt|vtt|webmanifest|xml)([?#].*)?$&quot;</span> <span class="hljs-attr">ignoreCase</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">conditions</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">input</span>=<span class="hljs-string">&quot;&#123;HTTP_ACCEPT_ENCODING&#125;&quot;</span> <span class="hljs-attr">pattern</span>=<span class="hljs-string">&quot;gzip&quot;</span>/&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">conditions</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Rewrite&quot;</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;dist&#123;REQUEST_URI&#125;.gz&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">rule</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- Fallback in case the user agent doesn&#x27;t support compression --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;static&quot;</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">match</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;(?!scanner|search).*$&quot;</span> <span class="hljs-attr">ignoreCase</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;Rewrite&quot;</span> <span class="hljs-attr">url</span>=<span class="hljs-string">&quot;dist&#123;REQUEST_URI&#125;&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">rule</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">rules</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">rewrite</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">system.webServer</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span></pre></td></tr></table></figure><p>Note that:</p>
<ul>
<li>The above snippet works with IIS 7+.</li>
<li>You should use the above snippet in the <code>web.config</code> of your
application.</li>
</ul>
<p>For the complete set of configurations, not just for this rule,
see the <a href="https://webhint.io/docs/user-guide/server-configurations/iis/" >IIS server configuration related documentation</a>.</p>
<p>If you prefer to let IIS compress your assets using Brotli, you can
use the <a target="_blank" href="https://docs.microsoft.com/en-us/iis/extensions/iis-compression/iis-compression-overview" ><code>IIS compression scheme providers</code></a>. However,
make sure to read <a target="_blank" href="https://docs.microsoft.com/en-us/iis/extensions/iis-compression/using-iis-compression#enabling-multiple-compression-schemes" >how to enable multiple compression schemes</a> and the priority limitations in some versions.</p>
</details>

<h2 id=can-the-hint-be-configured>Can the hint be configured?<a href="#can-the-hint-be-configured" class="headerlink" title="Can the hint be configured?"></a></h2><p>You can override the defaults by specifying what type of compression
you don’t want the hint to check for. This can be done for the <code>html</code>
(main page) and/or the <code>resources</code> the hint determines should be served
compressed, using the following format:</p>
<p>In the <a href="https://webhint.io/docs/user-guide/configuring-webhint/summary/" ><code>.hintrc</code></a> file:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;connector&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>...<span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;formatters&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>...<span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;hints&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>
        <span class="hljs-attr">&quot;http-compression&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> <span class="hljs-string">&quot;warning&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">&#123;</span>
            <span class="hljs-attr">&quot;resource&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>
                <span class="hljs-attr">&quot;&lt;compression_type&gt;&quot;</span><span class="hljs-punctuation">:</span> &lt;<span class="hljs-keyword">true</span>|<span class="hljs-keyword">false</span>&gt;<span class="hljs-punctuation">,</span>
                <span class="hljs-attr">&quot;threshold&quot;</span><span class="hljs-punctuation">:</span> &lt;number&gt;
                ...
            <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
            <span class="hljs-attr">&quot;html&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>
                <span class="hljs-attr">&quot;&lt;compression_type&gt;&quot;</span><span class="hljs-punctuation">:</span> &lt;<span class="hljs-keyword">true</span>|<span class="hljs-keyword">false</span>&gt;<span class="hljs-punctuation">,</span>
                <span class="hljs-attr">&quot;threshold&quot;</span><span class="hljs-punctuation">:</span> &lt;number&gt;
                ...
            <span class="hljs-punctuation">&#125;</span>
        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
        ...
    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
    ...
<span class="hljs-punctuation">&#125;</span></pre></td></tr></table></figure><p>Where <code>&lt;compression_method&gt;</code> can be one of: <code>brotli</code>, <code>gzip</code>, or
<code>zopfli</code>.
And <code>threshold</code> is the maximum size (in bytes) to set the
severity of a report to <code>hint</code>.
E.g. If you want the hint to check if only the page resources are
served compressed using Brotli, and not the page itself, you can
use the following configuration in the <a href="https://webhint.io/docs/user-guide/configuring-webhint/summary/" ><code>.hintrc</code></a>:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;connector&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>...<span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;formatters&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>...<span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;hints&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>
        <span class="hljs-attr">&quot;http-compression&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span> <span class="hljs-string">&quot;warning&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-punctuation">&#123;</span>
            <span class="hljs-attr">&quot;html&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>
                <span class="hljs-attr">&quot;brotli&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-keyword">false</span><span class="hljs-punctuation">,</span>
                <span class="hljs-attr">&quot;threshold&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-number">1024</span>
            <span class="hljs-punctuation">&#125;</span>
        <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
        ...
    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
    ...
<span class="hljs-punctuation">&#125;</span></pre></td></tr></table></figure><p>Note: You can also use the <a href="https://webhint.io/docs/user-guide/configuring-webhint/ignoring-domains/" ><code>ignoredUrls</code></a>
property from the <code>.hintrc</code> file to exclude domains you don’t control
(e.g.: CDNs) from these checks.</p>
<h2 id=how-to-use-this-hint>How to use this hint?<a href="#how-to-use-this-hint" class="headerlink" title="How to use this hint?"></a></h2><p>This package is installed automatically by webhint:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre>npm install hint --save-dev</pre></td></tr></table></figure><p>To use it, activate it via the <a href="https://webhint.io/docs/user-guide/configuring-webhint/summary/" ><code>.hintrc</code></a> configuration file:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="hljs-punctuation">&#123;</span>
    <span class="hljs-attr">&quot;connector&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>...<span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;formatters&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>...<span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;hints&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">&#123;</span>
        <span class="hljs-attr">&quot;http-compression&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;error&quot;</span><span class="hljs-punctuation">,</span>
        ...
    <span class="hljs-punctuation">&#125;</span><span class="hljs-punctuation">,</span>
    <span class="hljs-attr">&quot;parsers&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>...<span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
    ...
<span class="hljs-punctuation">&#125;</span></pre></td></tr></table></figure><p><strong>Note</strong>: The recommended way of running webhint is as a <code>devDependency</code> of
your project.</p>
<!-- Link labels: -->

<!-- Apache links -->

<!-- IIS links -->

  </div></div><a href="#main" class="anchor-top" hidden aria-label="back to top">top</a></div></article>  </main> <footer class="footer footer--home"><div class="footer-nav container">  <div class="footer-nav__item"><p class="category"><a href="/docs/user-guide/">Get webhint</a></p><ul>  <li><a href="/docs/user-guide/extensions/extension-browser/">In browser DevTools</a></li>  <li><a href="/docs/user-guide/extensions/vscode-webhint/">In VS Code</a></li>  <li><a href="/docs/user-guide/">Standalone CLI</a></li>  </ul></div>  <div class="footer-nav__item"><p class="category"><a href="">Documentation</a></p><ul>  <li><a href="/docs/contributor-guide/">Contributor Guide</a></li>  <li><a href="/docs/user-guide/hints/">Hints</a></li>  <li><a href="/docs/user-guide/">User Guide</a></li>  </ul></div>  <div class="footer-nav__item"><p class="category"><a href="/about/">About</a></p><ul>  <li><a href="/about/project_charter/">Project Charter</a></li>  <li><a href="/about/faq/">FAQ</a></li>  <li><a href="/about/changelog/">Changelog</a></li>  <li><a href="/about/governance/">Governance</a></li>  <li><a target="_blank" rel="noopener" href="https://js.foundation/community/code-of-conduct">Code of Conduct</a></li>  </ul></div>  <ul class="footer-nav__item social-list"><li class="github-icon"><a target="_blank" rel="noopener" href="https://github.com/webhintio" aria-label="Follow webhint on GitHub"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 25"><path class="github-icon-svg" d="M12.5.4C5.7.4.2 5.9.2 12.7c0 5.4 3.5 10 8.4 11.7.6.1.8-.3.8-.6v-2.1C6 22.4 5.3 20 5.3 20c-.6-1.4-1.4-1.8-1.4-1.8-1.1-.7.1-.7.1-.7 1.2.1 1.9 1.3 1.9 1.3 1.1 1.9 2.9 1.3 3.6 1 .1-.8.4-1.3.8-1.6-2.7-.3-5.6-1.4-5.6-6.1 0-1.3.5-2.4 1.3-3.3-.2-.4-.6-1.6 0-3.3 0 0 1-.3 3.4 1.3 1-.3 2-.4 3.1-.4 1 0 2.1.1 3.1.4C17.9 5.2 19 5.5 19 5.5c.7 1.7.2 2.9.1 3.3.8.9 1.3 2 1.3 3.3 0 4.7-2.9 5.8-5.6 6.1.4.4.8 1.1.8 2.3v3.4c0 .3.2.7.8.6 4.9-1.6 8.4-6.2 8.4-11.7C24.8 5.9 19.3.4 12.5.4"/></svg></a></li><li class="twitter-icon"><a target="_blank" rel="noopener" href="https://twitter.com/webhintio" aria-label="Follow webhint on Twitter"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 25 24"><path class="twitter-icon-svg" d="M25 4.4c-.9.4-1.9.7-2.9.8 1-.6 1.8-1.6 2.2-2.8-1 .6-2.1 1-3.2 1.2-.9-1-2.2-1.6-3.7-1.6-2.8 0-5 2.3-5 5 0 .4 0 .8.1 1.2C8.3 8 4.6 6 2.1 2.9c-.4.8-.7 1.6-.7 2.6 0 1.8.9 3.3 2.2 4.2-.8-.1-1.5-.3-2.2-.7v.1c0 2.4 1.7 4.5 4.1 5-.4.1-.9.2-1.3.2-.3 0-.6 0-.9-.1.6 2 2.5 3.5 4.7 3.5-1.9 1.3-4 2.1-6.4 2.1-.4 0-.8 0-1.2-.1C2.6 21.2 5.3 22 8.1 22c9.3 0 14.4-7.7 14.4-14.4v-.7c1-.6 1.8-1.5 2.5-2.5"/></svg></a></li><li class="medium-icon"><a target="_blank" rel="noopener" href="https://medium.com/webhint" aria-label="Follow webhint on Medium"><svg xmlns="http://www.w3.org/2000/svg" viewBox="4 2 40 40"><path d="M5 40V5h35v35H5zm8.56-12.63c0 .56-.03.7-.32 1.03l-2.45 3v.38h6.9v-.4l-2.4-2.98c-.3-.34-.35-.5-.35-1.03v-8.95l6.13 13.36h.7L27 18.42v10.64c0 .3 0 .35-.2.53L25 31.4v.37h9.2v-.4l-1.82-1.8c-.2-.17-.22-.23-.22-.52v-13.1c0-.3.03-.36.2-.54l1.83-1.8v-.32h-6.5L23.1 24.8l-5.2-11.55h-6.8v.4l2.14 2.63c.24.3.3.37.3.77V27.4z" class="medium-icon-svg"/></svg></a></li><li class="openjsf-icon"><a target="_blank" rel="noopener" href="https://openjsf.org" aria-label="Visit the OpenJS Foundation home page"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 314.4"><linearGradient id="openjsf-logo-gradient" gradientUnits="userSpaceOnUse" x1="28.765" y1="49.831" x2="243.506" y2="264.571"><stop offset=".214" stop-color="#0075c9"/><stop offset=".707" stop-color="#80bc00"/><stop offset="1" stop-color="#fde021"/></linearGradient><path d="M271.4 78.1L137 .5l-.9-.5-.9.5L1.6 77.7l-.7.4-.9.5v157.2l.9.5 134.4 77.6.9.5.9-.5 132.6-76.5 1.8-1 .9-.5V78.6l-1-.5zm-148.7-58L89.8 77H24.1l98.6-56.9zM84.4 86.4L69 113.1 22.8 86.4h61.6zm-12 39.4l54.3 31.4-54.3 31.4-18.1-31.4 18.1-31.4zm-8-4.6L49 147.9 18.1 94.5l46.3 26.7zm-53.7-20.9l32.9 56.9-32.9 56.9V100.3zm38.2 66.3l15.4 26.7L18.1 220l30.8-53.4zM69 201.3L84.4 228H22.8L69 201.3zm-44.9 36.1h65.7l32.9 56.9-98.6-56.9zm107.4 53.4l-30.8-53.4h30.8v53.4zm0-62.8H95.2l-18.1-31.4 54.3-31.4V228zm0-78.9l-54.3-31.4 18.1-31.4h36.2v62.8zm0-72.1h-30.8l30.8-53.4V77zm76.4 44.2l46.2-26.7-30.8 53.4-15.4-26.7zm10 36l-18.1 31.4-54.3-31.4 54.3-31.4 18.1 31.4zm-14.7-44.1l-15.4-26.7h61.6l-46.2 26.7zM248.1 77h-65.7l-32.8-56.9L248.1 77zM140.8 23.6L171.6 77h-30.8V23.6zm0 62.8H177l18.1 31.4-54.3 31.4V86.4zm0 78.9l54.3 31.4L177 228h-36.2v-62.7zm0 72.1h30.8l-30.8 53.4v-53.4zm8.8 56.9l32.8-56.9h65.7l-98.5 56.9zm38.2-66.3l15.4-26.7 46.2 26.7h-61.6zm20.1-34.8l15.4-26.7 30.8 53.4-46.2-26.7zm53.7 20.9l-32.9-56.9 32.9-56.9v113.8z" fill="url(#openjsf-logo-gradient)"/><path class="openjsf-icon-svg" d="M308.4 202.7h64.2v5.8H315V257h52.2v6H315v49.9h-6.6zM383.8 279.7c0-19 15.2-34.4 34.5-34.4s34.2 15.4 34.2 34.4-14.9 34.5-34.2 34.5c-19.3 0-34.5-15.5-34.5-34.5m62.2 0c0-16.4-11.2-28.7-27.7-28.7s-28 12.3-28 28.7 11.5 28.9 28 28.9 27.7-12.5 27.7-28.9M469.9 288.5v-41.7h6.3v40.7c0 13.5 6.3 21.1 19 21.1 14.3 0 24.3-9.6 24.3-24.8v-37h6.3V313h-6.3l.2-14.6c-4.4 9.9-13.5 16-25.1 16-14.8 0-24.7-9.7-24.7-25.9M543 246.8h6.3l-.2 14.8c4.4-10 13.6-16.2 25.3-16.2 14.8 0 24.6 9.9 24.6 26.3V313h-6.3v-40.2c0-13.6-6.3-21.6-19.1-21.6-14.3 0-24.3 9.4-24.3 24.8v37H543v-66.2zM616.3 279.7c0-19.5 13.8-34.4 32.8-34.4 13.5 0 23.2 7.3 28 17.2v-66.6h6.3V313h-6.3l.3-16.5c-4.7 10.2-15.6 17.8-28.4 17.8-18.9-.1-32.7-15.1-32.7-34.6m61.3 0c0-16.4-11-28.7-27.7-28.7-16.4 0-26.9 12.3-26.9 28.7s10.5 28.9 26.9 28.9c16.7 0 27.7-12.5 27.7-28.9M748 271.4c0-14.9-6.8-20.6-17.7-20.6-10.1 0-16.9 4.2-21.6 11.4l-4.5-3.2c5.5-8.6 14.9-13.6 26.3-13.6 13.6 0 23.8 8.3 23.8 25.5v42.2H748l.3-10.2c-4.2 6.3-11.5 11.5-22.9 11.5-15.1 0-25-7-25-20.3 0-13.1 11.5-19.3 24.2-19.3H748v-3.4zm-22.6 8.5c-10.1 0-18.6 3.9-18.6 13.9 0 10.1 6.6 14.8 19.3 14.8 11 0 21.9-6.5 21.9-16.7v-12h-22.6zM782.5 295.4v-43.3h-10.4v-5.4h10.4v-23.2h6.3v23.2h19.1v5.4h-19.1v43.1c0 9.7 3.4 13.3 8.9 13.3 5.8 0 8.1-2.3 10.5-4.9l4.1 3.9c-3.2 3.7-7.1 6.6-14.6 6.6-8.4.1-15.2-5.2-15.2-18.7M829.5 218.2c0-3.1 2.6-5.4 5.4-5.4 2.8 0 5.4 2.3 5.4 5.4 0 3.2-2.6 5.3-5.4 5.3-2.8.1-5.4-2-5.4-5.3m2.3 28.6h6.3V313h-6.3v-66.2zM857.1 279.7c0-19 15.2-34.4 34.5-34.4s34.2 15.4 34.2 34.4-14.9 34.5-34.2 34.5c-19.2 0-34.5-15.5-34.5-34.5m62.3 0c0-16.4-11.2-28.7-27.7-28.7s-28 12.3-28 28.7 11.5 28.9 28 28.9 27.7-12.5 27.7-28.9M943.9 246.8h6.3l-.2 14.8c4.4-10 13.6-16.2 25.3-16.2 14.8 0 24.6 9.9 24.6 26.3V313h-6.3v-40.2c0-13.6-6.3-21.6-19.1-21.6-14.3 0-24.3 9.4-24.3 24.8v37h-6.3v-66.2zM308.4 73.1c0-41.4 31.8-71.3 71.7-71.3 39.6 0 71.5 29.8 71.5 71.3 0 41.4-31.9 71.3-71.5 71.3-39.9-.1-71.7-29.9-71.7-71.3m121 0c0-29.6-20.4-51.9-49.4-51.9s-49.6 22.3-49.6 51.9c0 29.6 20.6 51.9 49.6 51.9 29-.1 49.4-22.3 49.4-51.9M473.9 56.8h20.8l-.6 15.9c5.5-10.6 15.7-17.8 30.4-17.8 22 0 39.8 18.6 39.8 44.5s-18 44.9-40.2 44.9c-14.3 0-24.5-6.9-29.4-16.5v58h-20.8v-129zm69.2 42.6c0-15.5-9.4-26.1-24.3-26.1-15.1 0-24.9 10.6-24.9 26.1 0 16.1 9.8 26.7 24.9 26.7 15 .1 24.3-10.5 24.3-26.7M635 127c11.2 0 19.4-4.5 24.3-9.2l12 12.7c-8 8-19 13.9-36.1 13.9-29.4 0-48.4-19-48.4-44.7 0-25.5 20-44.7 45.7-44.7 29.2 0 45.7 21.6 44.3 51.7h-69C610.3 119 619.3 127 635 127m21.1-34.7c-1.8-11.6-9-20.2-23.3-20.2-13.3 0-22.5 7.3-24.9 20.2h48.2zM699.7 56.8h20.6l-.4 15.9c5.3-11.2 16.1-17.8 29-17.8 19 0 32.1 13.5 32.1 36.7v50.8h-20.6V93.3c0-12.3-5.7-19.4-17.8-19.4-13.5 0-22.3 8.2-22.3 22v46.5h-20.6V56.8zM803.5 120.9l17.6-10.8c4.9 8.8 10.6 14.9 20.8 14.9 11.6 0 19.2-5.5 19.2-21.6V3.7h21.6v100c0 27.6-16.5 40.6-39.8 40.6-20.6 0-32.8-10.6-39.4-23.4M904.9 115.6l17.8-9.8c6.5 10.8 14.9 19.4 31.8 19.4 14.1 0 24.1-7.6 24.1-19 0-12-8.2-17.4-23.3-24.1l-9.2-4.1c-20.2-9-32.5-19.2-32.5-40.6 0-20.6 15.9-35.3 39-35.3C971 2 983.5 9 991.8 23.9l-16.9 10.4c-5.3-9.2-11.4-13.5-22.3-13.5-11 0-18 6.7-18 16.1 0 10.4 5.9 15.1 20 21.2l9 4.1c23.7 10.4 36.3 21.4 36.3 43.7 0 24.3-19 38.4-45.1 38.4-26.3 0-42.2-13-49.9-28.7"/></svg></a></li></ul></div></footer> <script src="/static/scripts/treeview-54e979828f.js" integrity="sha384-VsYH3fD7SgMz9uDJ//T+K9HTnT0d3KEnDIHdcc8htlYrgZHpXStWu7gKniu7+Ya2" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js" integrity="sha384-8uEk67aWSZHvjtAX9hf2AB+KzYcssy31vRRTi9oP81zHtyIj7PQGAykGbQpB1L2J" crossorigin="anonymous"></script><script src="/static/scripts/common-0cfb479c53.js" integrity="sha384-wOMtgTnli7Qkpwsb6QgS0Gpya9/5r0+T/sUgGBAW/tH0sfafWVCu29Ea1tXPVCyc" crossorigin="anonymous"></script><script>docsearch({apiKey:"2ee58f908e6d720c4f72a9645ce0e857",indexName:"webhint",inputSelector:"#search-input",appId:"0R8E5SPAFP",debug:!1})</script> </body></html>